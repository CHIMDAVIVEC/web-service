(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{175:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(27),s=n.n(c),o=(n(173),n(174),n(175),n(58)),i=n(33),l=n.n(i),d=n(48),u=n(82),j=n(20),b="AUTH_START",p="AUTH_SUCCESS",m="AUTH_FAILURE",O="AUTH_RESET",x=function(e,t){switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{error:!1,loading:!0});case p:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,token:t.payload});case m:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!0,errResponse:t.payload});case O:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!1,errResponse:"",token:null,user:null});default:return e}},h=n(149),f=n.n(h).a.create({baseURL:"http://192.168.0.117:8000/api/"});f.interceptors.request.use((function(e){console.log("Request Sent");var t=localStorage.getItem("howard_shores");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var g=f,y=n(7),v={loading:!1,error:!1,token:null,errResponse:null},w=Object(r.createContext)(v),R=function(e){var t=e.children,n=Object(r.useReducer)(x,v),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:b}),e.prev=1,e.next=4,g.post("/auth/login",t);case 4:n=e.sent,localStorage.setItem("howard_shores",n.data.access_token),s({type:p,payload:n.data.access_token}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:m,payload:e.t0.response.data.error_msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(y.jsx)(w.Provider,{value:{state:c,AuthReset:function(){s({type:O})},LoginAction:o},children:t})},k=n(161),I="BOT_START",_="BOT_SUCCESS",C="BOT_FAILURE",E="BOT_RESET",S="BOT_ADD",T=function(e,t){switch(t.type){case I:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,message:null,bot:null,error:null});case _:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,bots:t.payload});case S:return Object(j.a)(Object(j.a)({},e),{},{bots:[t.payload].concat(Object(k.a)(e.bots)),loading:!1,error:!1,errResponse:"",message:"\u0411\u043e\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"});case C:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!0,errResponse:t.payload});case E:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!1,errResponse:"",message:null});default:return e}},N={loading:!1,error:!1,bots:"",bot:null,errResponse:"",message:null},A=Object(r.createContext)(N),U=function(e){var t=e.children,n=Object(r.useReducer)(T,N),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:I}),e.prev=1,e.next=4,g.post("/bot/",t);case 4:n=e.sent,s({type:_,payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:C,payload:e.t0.response.data.error_msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[]),i=Object(r.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:I}),e.prev=1,e.next=4,g.post("/bot/add",t);case 4:n=e.sent,s({type:S,payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:C,payload:e.t0.response.data.error_msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(y.jsx)(A.Provider,{value:{state:c,addBot:i,BotReset:function(){s({type:E})},fetchBots:o},children:t})},F="USER_START",B="USER_FAILURE",L="USER_RESET",z="GET_LOGGED_IN_USER",D=function(e,t){switch(t.type){case F:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,message:null,user:null,error:null});case z:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,me:t.payload});case B:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!0,errResponse:t.payload});case L:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!1,errResponse:"",message:null});default:return e}},q={loading:!1,error:!1,user:null,me:null,errResponse:"",message:null},H=Object(r.createContext)(q),P=function(e){var t=e.children,n=Object(r.useReducer)(D,q),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:F}),e.prev=1,e.next=4,g.get("/user/me");case 4:t=e.sent,s({type:z,payload:t.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:B,payload:e.t0.response.data.error_msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);return Object(r.useEffect)((function(){o()}),[]),Object(y.jsx)(H.Provider,{value:{state:c,UserReset:function(){s({type:L})},fetchLoggedInUser:o},children:t})},G=n(166),J=n(25),K=n(150),M=function(){var e=localStorage.getItem("howard_shores");if(!e)return!1;try{return Object(K.a)(e)._id}catch(t){return!1}};var V,Z=function(){var e=Object(J.f)();return Object(r.useEffect)((function(){e.push("/bots")}),[]),Object(y.jsx)(y.Fragment,{})},Q=n(162),W=n(272),X=n(69),Y=n(54),$=n(71),ee=n(72),te=ee.a.div(V||(V=Object($.a)(["\n  .ant-layout-header {\n    box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15) !important;\n  }\n  .site-layout-background {\n    padding: 0;\n  }\n  .anticon-menu-fold {\n    padding: 0 1rem;\n    font-size: 1.2rem;\n  }\n\n  .anticon-menu-unfold {\n    padding: 1rem;\n  }\n  .name {\n    font-size: 0.8rem;\n    padding: 0 0.8rem;\n  }\n\n  @media (max-width: 600px) {\n    .name {\n      display: none;\n    }\n  }\n"]))),ne=W.a.Footer;var re=function(e){var t=e.history,n=e.index;return Object(y.jsx)(te,{children:Object(y.jsx)("div",{style:{height:"100%"},children:Object(y.jsx)(ne,{className:"site-layout-background",style:{position:"fixed",bottom:"0",width:"100%"},children:Object(y.jsxs)(X.a,{defaultSelectedKeys:[n],mode:"horizontal",style:{position:"relative",display:"flex",justifyContent:"center"},children:[Object(y.jsx)(X.a.Item,{children:Object(y.jsx)(o.c,{to:"/bots",children:"\u0411\u043e\u0442\u044b"})},"1"),Object(y.jsx)(X.a.Item,{children:Object(y.jsx)(o.c,{to:"/add-new-bot",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})},"2"),Object(y.jsx)(X.a.Item,{children:Object(y.jsx)(Y.a,{danger:!0,onClick:function(){return localStorage.removeItem("howard_shores"),void t.push("/login")},children:"\u0412\u044b\u0439\u0442\u0438"})},"3")]})})})})};var ae=function(e,t){return function(n){var a=Object(r.useContext)(A).BotReset,c=Object(r.useContext)(A).state,s=c.error,o=c.errResponse,i=c.message;return Object(r.useEffect)((function(){s&&(Q.b.error(o),a())}),[s]),Object(r.useEffect)((function(){i&&(Q.b.success(i),a())}),[i]),Object(y.jsx)(W.a,{style:{minHeight:"100vh"},children:Object(y.jsxs)(W.a,{className:"site-layout",children:[Object(y.jsx)("div",{className:"container",children:Object(y.jsx)(e,Object(j.a)({},n))}),Object(y.jsx)(re,{history:n.history,index:t})]})})}},ce=n(273),se=[{title:"ID",dataIndex:"Id",key:"Id",sorter:function(e,t){return e.Id-t.Id},sortDirections:["ascend","descend"],defaultSortOrder:"ascend"},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},sortDirections:["ascend","descend"]},{title:"\u0421\u0442\u0430\u0442\u0443\u0441",dataIndex:"status",key:"status"}];var oe,ie=function(e){var t=e.data;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(ce.a,{className:"clearfix",columns:se,rowKey:"Id",dataSource:t,style:{clear:"both"}})})},le=ee.a.div(oe||(oe=Object($.a)(["\n  @keyframes rotate360 {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n  .spinner {\n    margin: 16px;\n    animation: rotate360 1s linear infinite;\n    transform: translateZ(0);\n    border-top: 2px solid #1f59bc;\n    border-right: 2px solid #1f59bc;\n    border-bottom: 2px solid #1f59bc;\n    border-left: 4px solid #1f59bb;\n    background: transparent;\n    width: 80px;\n    height: 80px;\n    border-radius: 50%;\n  }\n"]))),de=function(e){var t=e.text;return Object(y.jsxs)("div",{style:{padding:"24px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(y.jsx)(le,{children:Object(y.jsx)("div",{className:"spinner"})}),Object(y.jsxs)("div",{children:[" ",t||"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e...","."]})]})};var ue,je=ae((function(){Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return t=s?s._id:0,e.next=5,a(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var e=Object(r.useContext)(A).state,t=e.bots,n=e.loading,a=Object(r.useContext)(A).fetchBots,c=Object(r.useContext)(H).fetchLoggedInUser,s=Object(r.useContext)(H).state.me;return Object(y.jsx)("div",{children:n?Object(y.jsx)(de,{}):Object(y.jsx)(ie,{data:t})})}),"1"),be=n(275),pe=n(274),me=n(276),Oe=n(277),xe=ee.a.div(ue||(ue=Object($.a)(['\n  .dynamic-delete-button {\n    position: relative;\n    top: 8px;\n    margin: 0 8px;\n    color: #999;\n    font-size: 24px;\n    cursor: pointer;\n    transition: all 0.3s;\n  }\n  .dynamic-delete-button:hover {\n    color: #777;\n  }\n  .dynamic-delete-button[disabled] {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n  [data-theme="dark"] .dynamic-delete-button {\n    color: rgba(255, 255, 255, 0.45);\n  }\n  [data-theme="dark"] .dynamic-delete-button:hover {\n    color: rgba(255, 255, 255, 0.65);\n  }\n']))),he=be.a.TextArea;var fe=function(e){var t=e.onFinish;return Object(y.jsx)(xe,{children:Object(y.jsxs)(pe.a,{name:"bot_details_form",className:"login-form",onFinish:t,layout:"vertical",size:"large",style:{clear:"both"},children:[Object(y.jsx)(pe.a.Item,{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"}],children:Object(y.jsx)(be.a,{prefix:Object(y.jsx)(me.a,{className:"site-form-item-icon"}),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),Object(y.jsx)(pe.a.Item,{name:"spec",label:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u0431\u043e\u0442\u0430!"}],children:Object(y.jsx)(he,{autoSize:!0,prefix:Object(y.jsx)(Oe.a,{className:"site-form-item-icon"}),placeholder:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(y.jsx)("div",{className:"row justify-content-center align-items-center",style:{marginTop:"5%"},children:Object(y.jsx)("div",{className:"align-self-center text-center",children:Object(y.jsx)(pe.a.Item,{children:Object(y.jsx)(Y.a,{type:"primary",htmlType:"submit",className:"mr-2",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})})]})})};var ge=ae((function(e){var t=Object(r.useContext)(A).addBot,n=Object(r.useContext)(H).state.me;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(fe,{onFinish:function(e){e.user=n._id,t(e)}})})}),"2"),ye=n(278),ve=n(279),we=function(e){var t=e.history,n=Object(r.useContext)(w),a=n.LoginAction,c=n.state,s=n.AuthReset,o=c.token,i=c.loading,l=c.error,d=c.errResponse;return Object(r.useEffect)((function(){s()}),[]),Object(r.useEffect)((function(){M(o),o&&(t.push("/home"),window.location.reload())}),[o,t]),Object(r.useEffect)((function(){l&&Q.b.error(d)}),[l,d]),Object(y.jsx)("div",{className:"test",children:Object(y.jsx)("div",{className:"container ",children:Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"row justify-content-center align-items-center min-vh-100",children:Object(y.jsxs)("div",{className:"col-md-4 align-self-center text-center",children:[Object(y.jsx)("h2",{children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(y.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),Object(y.jsxs)(pe.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){a(e)},size:"large",children:[Object(y.jsx)(pe.a.Item,{name:"email",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail!"}],children:Object(y.jsx)(be.a,{prefix:Object(y.jsx)(ye.a,{className:"site-form-item-icon"}),placeholder:"E-mail",className:"rounded-pill"})}),Object(y.jsx)(pe.a.Item,{name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(y.jsx)(be.a,{prefix:Object(y.jsx)(ve.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"rounded-pill"})}),Object(y.jsx)(pe.a.Item,{children:Object(y.jsx)(Y.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:i,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})})})})},Re=function(e){var t=e.component,n=Object(G.a)(e,["component"]);return Object(y.jsx)(J.a,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return M()?Object(y.jsx)(t,Object(j.a)({},e)):window.location.replace("#/login")}}))},ke=function(){return Object(y.jsx)(o.b,{basename:"/",children:Object(y.jsxs)(J.c,{children:[Object(y.jsx)(J.a,{exact:!0,path:"/",component:Z}),Object(y.jsx)(J.a,{exact:!0,path:"/login",component:we}),Object(y.jsx)(Re,{exact:!0,path:"/bots",component:je}),Object(y.jsx)(Re,{exact:!0,path:"/add-new-bot",component:ge}),Object(y.jsx)(J.a,{component:Z})]})})};var Ie=function(){return Object(y.jsx)(o.a,{children:Object(y.jsx)(P,{children:Object(y.jsx)(U,{children:Object(y.jsx)(R,{children:Object(y.jsx)(ke,{})})})})})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,280)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(Ie,{})}),document.getElementById("root")),_e()}},[[270,1,2]]]);
//# sourceMappingURL=main.9be98cd0.chunk.js.map